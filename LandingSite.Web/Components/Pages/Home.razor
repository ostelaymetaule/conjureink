@page "/"
@rendermode InteractiveServer
<PageTitle>Conjure.ink - start page</PageTitle>
<MudMainContent>
    <MudGrid Class="object-center">
        <MudItem xs="1" sm="2" md="2" lg="2" xl="2" xxl="2"></MudItem>
        <MudItem xs="12" sm="8" md="8" lg="8" xl="8" xxl="8">
            <MudCarousel TData="object" Style="height:900px">
                @foreach (var image in Images)
                {
                    <MudCarouselItem>
                        <MudPaper>
                            <MudImage Src="@image" Elevation="25" Class="rounded-lg" Fluid="true" ObjectFit="ObjectFit.Contain" ObjectPosition="ObjectPosition.Center"></MudImage>
                        </MudPaper>
                    </MudCarouselItem>
                }
            </MudCarousel>
        </MudItem>
        <MudItem xs="1" sm="2" md="2" lg="2" xl="2" xxl="2"></MudItem>
    </MudGrid>
</MudMainContent>


@code {
    public List<string> Images { get; set; }
    protected override void OnInitialized()
    {
        @* string rootpath = System.IO.Path.Combine(AppDomain.CurrentDomain.BaseDirectory, "wwwroot"); *@
        string rootpath = System.IO.Path.Combine(Directory.GetCurrentDirectory(), "wwwroot", "content", "art");

        var currentDir = new DirectoryInfo(rootpath);
        var dirs = currentDir.GetDirectories();
        Images = currentDir.GetFiles().Select(img => $"content/art/{img.Name}").ToList();
    }

}